<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>父子孙传值 | 我的记录</title>
    <meta name="description" content="好记性不如烂文档">
    
    
    <link rel="preload" href="/assets/css/0.styles.617c345f.css" as="style"><link rel="preload" href="/assets/js/app.c35ec0c3.js" as="script"><link rel="preload" href="/assets/js/2.988f88d7.js" as="script"><link rel="preload" href="/assets/js/3.74b14c29.js" as="script"><link rel="prefetch" href="/assets/js/10.934015d9.js"><link rel="prefetch" href="/assets/js/11.1ac026a8.js"><link rel="prefetch" href="/assets/js/12.520f495f.js"><link rel="prefetch" href="/assets/js/13.01aed6b3.js"><link rel="prefetch" href="/assets/js/14.367f284d.js"><link rel="prefetch" href="/assets/js/15.3a4e9490.js"><link rel="prefetch" href="/assets/js/16.7107c2a9.js"><link rel="prefetch" href="/assets/js/17.6d0813f1.js"><link rel="prefetch" href="/assets/js/4.155630bc.js"><link rel="prefetch" href="/assets/js/5.871604e8.js"><link rel="prefetch" href="/assets/js/6.b3585b1f.js"><link rel="prefetch" href="/assets/js/7.b3a1b0fd.js"><link rel="prefetch" href="/assets/js/8.7ae677b5.js"><link rel="prefetch" href="/assets/js/9.137c4e72.js">
    <link rel="stylesheet" href="/assets/css/0.styles.617c345f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">我的记录</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://www.baidu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  百度
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://google.com " target="_blank" rel="noopener noreferrer" class="nav-link external">
  谷歌
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://www.baidu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  百度
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://google.com " target="_blank" rel="noopener noreferrer" class="nav-link external">
  谷歌
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>js</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/js/deepCopy.html" class="sidebar-link">深拷贝</a></li><li><a href="/js/cycle.html" class="sidebar-link">遍历的方法</a></li><li><a href="/js/hello.html" class="sidebar-link">防抖与节流</a></li><li><a href="/js/reduce.html" class="sidebar-link">reduce用法</a></li><li><a href="/js/set.html" class="sidebar-link">Set</a></li><li><a href="/js/proxy.html" class="sidebar-link">defineProperty用法</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>vue</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vue/directive.html" class="sidebar-link">自定义指令</a></li><li><a href="/vue/sync.html" class="sidebar-link">Sync</a></li><li><a href="/vue/attr.html" class="active sidebar-link">父子孙传值</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/vue/vModel.html" class="sidebar-link">v-Model原理</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>其他</span> <!----></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="父子孙传值"><a href="#父子孙传值" aria-hidden="true" class="header-anchor">#</a> 父子孙传值</h1> <h3 id="a、b、c三个组件，两两是父子关系，当我们想从a传值到c的时候，我个人常用的有三种方法。"><a href="#a、b、c三个组件，两两是父子关系，当我们想从a传值到c的时候，我个人常用的有三种方法。" aria-hidden="true" class="header-anchor">#</a> A、B、C三个组件，两两是父子关系，当我们想从A传值到C的时候，我个人常用的有三种方法。</h3> <ol><li><h4 id="prop从a到b再从b到c"><a href="#prop从a到b再从b到c" aria-hidden="true" class="header-anchor">#</a> prop从A到B再从B到C</h4></li> <li><h4 id="eventbus-事件总线"><a href="#eventbus-事件总线" aria-hidden="true" class="header-anchor">#</a> eventBus 事件总线</h4></li> <li><h4 id="vuex状态管理"><a href="#vuex状态管理" aria-hidden="true" class="header-anchor">#</a> vuex状态管理</h4></li> <li><h4 id="用一种新的方法-attrs、-listeners"><a href="#用一种新的方法-attrs、-listeners" aria-hidden="true" class="header-anchor">#</a> 用一种新的方法$attrs、$listeners</h4></li></ol> <h5 id="attrs父子之间的传值"><a href="#attrs父子之间的传值" aria-hidden="true" class="header-anchor">#</a> $attrs父子之间的传值</h5> <div class="language-vue extra-class"><pre class="language-vue"><code>// A组件
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child</span> <span class="token attr-name">:test1</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>test1<span class="token punctuation">'</span></span> <span class="token attr-name">:test2</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>test2<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>child</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> child <span class="token keyword">from</span> <span class="token string">'./child'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'A'</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span><span class="token punctuation">{</span>
      test1<span class="token punctuation">:</span> <span class="token string">'test1111'</span><span class="token punctuation">,</span>
      test2<span class="token punctuation">:</span> <span class="token string">'test2222'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  components<span class="token punctuation">:</span><span class="token punctuation">{</span> child <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
// B组件
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>我是儿子<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>test1:{{test1}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{$attrs}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span> // 当前的值等于所有变量减去prop接收的值
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    props<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'test1'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><img src="data:image/png;base64,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EEIoAQAAAIQQSgAAAAAhhBIAAABACKEEAAAAEEIoAQAAAIQQSgAAAAAhhBIAAABACKEEAAAAEEIoAQAAAIQQSgAAAAAhhBIAAABACKEEAAAAEEIoAQAAAIQQSgAAAAAhhBIAAABACKEEAAAAEEIoAQAAAIQQSgAAAAAhhBIAAABACKEEAAAAEEIoAQAAAIQQSgAAAAAhhBIAAABACKEEAAAAEEIoAQAAAIQQSgAAAAAhhBIAAABACKEEAAAAEEIoAQAAAIQQSgAAAAAhhBIAAABACKEEAAAAEEIoAQAAAIQQSgAAAAAhhBIAAABACKEEAAAAEEIoAQAAAIQQSgAAAAAhhBIAAABACKEEAAAAEEIoAQAAAIQQSgAAAAAhhBIAAABACKEEAAAAEEIoAQAAAIQQSgAAAAAhhBIAAABACKEEAAAAEEIoAQAAAIQQSgAAAAAhhBIAAABACKEEAAAAEEIoAQAAAIQQSgAAAAAhhBIAAABACKEEAAAAEEIoAQAAAIQQSgAAAAAhhBIAAABACKEEAAAAEEIoAQAAAIQQSgAAAAAhhBIAAABACKEEAAAAEEIoAQAAAIQQSgAAAAAhhBIAAABACKEEAAAAEEIoAQAAAIQQSgAAAAAhhBIAAABACKEEAAAAEGA2+x9tylqnX9GSvQAAAABJRU5ErkJggg==" alt=""></p> <h5 id="父子孙"><a href="#父子孙" aria-hidden="true" class="header-anchor">#</a> 父子孙</h5> <div class="language-vue extra-class"><pre class="language-vue"><code>// A组件
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child</span> <span class="token attr-name">:test1</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>test1<span class="token punctuation">'</span></span> <span class="token attr-name">:test2</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>test2<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>child</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> child <span class="token keyword">from</span> <span class="token string">'./child'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'A'</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span><span class="token punctuation">{</span>
      test1<span class="token punctuation">:</span> <span class="token string">'test1111'</span><span class="token punctuation">,</span>
      test2<span class="token punctuation">:</span> <span class="token string">'test2222'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  components<span class="token punctuation">:</span><span class="token punctuation">{</span> child <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

// B组件
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>我是儿子<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>test1:{{test1}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>com-c</span> <span class="token attr-name">v-bind</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>$attrs<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>com-c</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> comC <span class="token keyword">from</span> <span class="token string">'./grandChild'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    props<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'test1'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    components<span class="token punctuation">:</span> <span class="token punctuation">{</span> comC <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

//  C组件
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>我是孙子<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{$attrs}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span> // 当前的值等于所有变量减去prop接收的值
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    props<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'test3'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><img src="data:image/png;base64,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" alt=""></p> <p>事实上当我这样子写的时候，还存在点问题</p> <p><img src="/assets/img/1567498515611.731c404b.png" alt="1567498515611"></p> <p>未被prop接受的变量会被作为html普通属性所渲染，我们需要在子组件设置 inheritAttrs: false；</p> <p><img src="/assets/img/1567498968753.dd5a67ae.png" alt="1567498968753">这个是否设置不会影响到$attrs的值，但是如果子组件例如是input, type属性很容易被影响。</p> <h5 id="listeners-c组件修改a组件的值"><a href="#listeners-c组件修改a组件的值" aria-hidden="true" class="header-anchor">#</a> $listeners C组件修改A组件的值</h5> <div class="language-vue extra-class"><pre class="language-vue"><code>// A组件
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child</span> <span class="token attr-name">:test1.sync</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>test1<span class="token punctuation">'</span></span> <span class="token attr-name">:test2</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>test2<span class="token punctuation">'</span></span> <span class="token attr-name">:test3</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>test3<span class="token punctuation">'</span></span> <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>child</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> child <span class="token keyword">from</span> <span class="token string">'./child'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'A'</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span><span class="token punctuation">{</span>
      test1<span class="token punctuation">:</span> <span class="token number">1111</span><span class="token punctuation">,</span>
      test2<span class="token punctuation">:</span> <span class="token string">'test2222'</span><span class="token punctuation">,</span>
      test3<span class="token punctuation">:</span> <span class="token string">'test3333'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  components<span class="token punctuation">:</span><span class="token punctuation">{</span> child <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

// B组件
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>我是儿子<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{$attrs}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>test1:{{test1}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>com-c</span> <span class="token attr-name">v-bind</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>$attrs<span class="token punctuation">'</span></span> <span class="token attr-name">v-on</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>$listeners<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>com-c</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> comC <span class="token keyword">from</span> <span class="token string">'./grandChild'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    props<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'test1'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    components<span class="token punctuation">:</span> <span class="token punctuation">{</span> comC <span class="token punctuation">}</span><span class="token punctuation">,</span>
    inheritAttrs<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

//  C组件
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>我是孙子<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{$attrs}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>change<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>修改<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    props<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'test3'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    inheritAttrs<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    methods<span class="token punctuation">:</span><span class="token punctuation">{</span>
        <span class="token function">change</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'update:test1'</span><span class="token punctuation">,</span><span class="token number">9527</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>我个人认为这样子的传值方式有两个好处：</p> <p>1.当我们组件层级较多的时候变量不再需要一层一层绑定下去，当我们变量多的时候不可想象，这种方式就可以很优雅。</p> <p>2.当我们在第三方库修改的时候会比较好用</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/vue/sync.html" class="prev">
          Sync
        </a></span> <span class="next"><a href="/vue/vModel.html">
          v-Model原理
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.c35ec0c3.js" defer></script><script src="/assets/js/2.988f88d7.js" defer></script><script src="/assets/js/3.74b14c29.js" defer></script>
  </body>
</html>
